(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,a,t){},21:function(e,a,t){e.exports=t(52)},26:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(19),s=t.n(r),c=(t(26),t(2)),i=t(3),m=t(5),o=t(4),u=t(6),p=t.n(u),d=t(8),E=t(9),v=t.n(E);t(18);function h(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement("div",{className:"container nav-container"},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-brand"},l.a.createElement("a",{href:"#"},l.a.createElement("img",{src:"images/logo.png",alt:"LOGO"}))),l.a.createElement("div",{className:"menu-icons open"},l.a.createElement("i",{className:"icon ion-md-menu"})),l.a.createElement("ul",{className:"nav-list"},l.a.createElement("div",{className:"menu-icons close"},l.a.createElement("i",{className:"icon ion-md-close"})),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link current"},"Feed")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link"},"Jobs")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link"},"Notifications")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link"},"Bazaar")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"#",className:"nav-link"}," ","MyProfile")))))))}var f=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).likeHandler=function(){var e=n.state.likeCount+1;n.setState({likeCount:e})},n.state={timelineEmptyFlag:!0,likeCount:0},n}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props.postData,a=e.imgSrc,t=e.text;return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"middle"},l.a.createElement("div",{className:"container"},l.a.createElement("hr",{className:"hr-break"}),l.a.createElement("div",{className:"middle-content"},this.props.timelineEmptyFlag&&l.a.createElement("p",null,"Sorry! No posts available :")))),l.a.createElement("section",{className:"bottom"},l.a.createElement("div",{className:"container"},!this.props.timelineEmptyFlag&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card-container timeline-card-container"},l.a.createElement("div",{className:"card-top timeline-card-top"},l.a.createElement("div",{className:"top-left timeline-top-left"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:"images/avatar.jpg",alt:"Avatar"})),l.a.createElement("div",{className:"avatar-details"},l.a.createElement("h4",null,"Angelina John"),l.a.createElement("p",null,"Passionate hair stylist"))),l.a.createElement("div",{className:"top-right timeline-top-right"},l.a.createElement("p",null,"Just now"))),!!this.props.postData.text&&l.a.createElement("div",{className:"card-middle timeline-card-middle"},t),!!this.props.postData.imgSrc&&l.a.createElement("div",{className:"card-bottom timeline-card-bottom"},l.a.createElement("img",{src:a,alt:""})),l.a.createElement("div",{className:"like-comment-share"},l.a.createElement("span",{onClick:this.likeHandler},this.state.likeCount>0?l.a.createElement("i",{className:"fas fa-heart lcs lcs-liked"}):l.a.createElement("i",{className:"far fa-heart lcs "})),l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-comment lcs"})),l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-share lcs"})),l.a.createElement("span",{className:"like-count"},(this.state.likeCount,l.a.createElement("span",null,this.state.likeCount," likes")))))))))}}]),t}(n.Component),g=t(20),N=t.n(g),b=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleTextChange=function(e){var a=e.target.value.length;n.setState({text:e.target.value,charactersLeft:a})},n.handleWordCount=function(e){var a=120-e.target.value.length;n.setState({charactersLeft:a})},n.onInputChange=function(e){n.setState({file:e.target.files[0],imagePreview:e.target.files[0]?URL.createObjectURL(e.target.files[0]):"",isUploadButtonDisabled:!0})},n.onCloseButtonClick=function(e){n.fileInput.value="",n.setState({imagePreview:"",file:"",isUploadButtonDisabled:!1})},n.showPosts=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:5000/api/image").then((function(e){var a,t,l;e.data.imageData.img&&(a=e.data.imageData.img.data.data,t=e.data.imageData.img.contentType),e.data.imageData.text&&(l=e.data.imageData.text),n.setState({timelineEmptyFlag:!1,postData:{imgSrc:a&&t?n.getImagePreviewSource(a,t):"",text:l||""}})}));case 2:case"end":return e.stop()}}),e)}))),n.onFormSubmit=function(){var e=Object(d.a)(p.a.mark((function e(a){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),(t=new FormData).append("photo",n.state.file),t.append("text",n.state.text),e.prev=4,e.next=7,v.a.post("http://localhost:5000/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){n.fileInput.value="",n.setState({file:"",text:"",imagePreview:"",charactersLeft:0,isUploadButtonDisabled:!1}),n.props.setTimeout(n.showPosts,2e3)}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0),500===e.t0.response.status?(console.log(e.t0.response),n.setState({message:"Internal server error occured",imagePreview:"",file:""}),n.fileInput.value=""):(n.setState({message:"Unknown error occured",imagePreview:"",file:""}),n.fileInput.value="");case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(a){return e.apply(this,arguments)}}(),n.onAlertClose=function(){n.setState({message:""})},n.state={file:"",text:"",imagePreview:"",charactersLeft:0,postData:{},timelineEmptyFlag:!0,message:"",isUploadButtonDisabled:!1},n}return Object(i.a)(t,[{key:"arrayBufferToBase64",value:function(e){var a="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return a+=String.fromCharCode(e)})),window.btoa(a)}},{key:"getImagePreviewSource",value:function(e,a){return"data:".concat(a,";base64,")+this.arrayBufferToBase64(e)}},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement(h,null),l.a.createElement("main",null,l.a.createElement("section",{className:"hero"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-container"},l.a.createElement("div",{className:"card-top"},l.a.createElement("div",{className:"top-left"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:"images/avatar.jpg",alt:"Avatar"})),l.a.createElement("div",{className:"avatar-details"},l.a.createElement("h4",null,"Angelina John"),l.a.createElement("p",null,"Passionate hair stylist"))),l.a.createElement("div",{className:"top-right"},l.a.createElement("label",{htmlFor:"file-upload",className:"label-alternate ".concat(this.state.isUploadButtonDisabled?"disable-input-label":"")},l.a.createElement("span",null,"Add")),l.a.createElement("input",{id:"file-upload",type:"file",accept:"image/*",disabled:this.state.imagePreview.length>0,onChange:this.onInputChange,ref:function(a){return e.fileInput=a}}),l.a.createElement("button",{type:"submit",form:"post-form",className:"post-button"},l.a.createElement("span",null,"Post")))),l.a.createElement("div",{className:"card-bottom"},l.a.createElement("form",{id:"post-form",onSubmit:this.onFormSubmit},!!this.state.imagePreview&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"image-placeholder"},l.a.createElement("span",{onClick:this.onCloseButtonClick},l.a.createElement("i",{className:"far fa-times-circle"})),l.a.createElement("img",{src:this.state.imagePreview,alt:""}))),l.a.createElement("div",{className:"textarea-container"},l.a.createElement("textarea",{name:"text",id:"text",placeholder:"Hey! Try something here",maxLength:"120",value:this.state.text,onChange:this.handleTextChange}),l.a.createElement("span",null,this.state.charactersLeft,"/120"))))))),l.a.createElement(f,{postData:this.state.postData,timelineEmptyFlag:this.state.timelineEmptyFlag})))}}]),t}(n.Component),k=N()(b),y=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,null))}}]),t}(l.a.Component);s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.61738731.chunk.js.map